<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
  <title>ThumbsApp ‚Ä¢ Premium Gaming Arena</title>
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  
  <style>
    /* ============ COMPLETE STYLES ============ */
    *,:after,:before {
      box-sizing: border-box;
      border: 0 solid #e5e7eb;
    }
    
    :root {
      --background: 210 40% 98%;
      --foreground: 222 47% 11%;
      --card: 0 0% 100%;
      --card-foreground: 222 47% 11%;
      --primary: 217 91% 60%;
      --primary-foreground: 210 40% 98%;
      --secondary: 210 40% 96%;
      --secondary-foreground: 222 47% 11%;
      --muted: 210 40% 96%;
      --muted-foreground: 215 16% 47%;
      --accent: 262 83% 58%;
      --accent-foreground: 210 40% 98%;
      --destructive: 0 84% 60%;
      --success: 142 71% 45%;
      --warning: 38 92% 50%;
      --border: 214 32% 91%;
      --input: 214 32% 91%;
      --ring: 222 47% 11%;
      --radius: 1rem;
    }
    
    .dark {
      --background: 222 47% 11%;
      --foreground: 210 40% 98%;
      --card: 222 47% 11%;
      --card-foreground: 210 40% 98%;
      --border: 217 33% 17%;
      --muted: 217 33% 17%;
      --muted-foreground: 215 20% 65%;
    }
    
    html { line-height: 1.5; -webkit-text-size-adjust: 100%; font-family: 'Inter', system-ui, sans-serif; }
    body {
      background-color: hsl(var(--background));
      color: hsl(var(--foreground));
      margin: 0;
      line-height: inherit;
      transition: background-color 0.3s, color 0.3s;
      min-height: 100vh;
    }
    
    /* Utility classes */
    .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; }
    .fixed { position: fixed; }
    .absolute { position: absolute; }
    .relative { position: relative; }
    .sticky { position: sticky; }
    .inset-0 { inset: 0; }
    .top-0 { top: 0; }
    .left-0 { left: 0; }
    .right-0 { right: 0; }
    .bottom-0 { bottom: 0; }
    .top-1\/2 { top: 50%; }
    .-top-1 { top: -0.25rem; }
    .-right-1 { right: -0.25rem; }
    .-right-2 { right: -0.5rem; }
    .-bottom-1 { bottom: -0.25rem; }
    .top-4 { top: 1rem; }
    .right-4 { right: 1rem; }
    .left-3 { left: 0.75rem; }
    .top-24 { top: 6rem; }
    .z-50 { z-index: 50; }
    .z-10 { z-index: 10; }
    
    .mx-auto { margin-left: auto; margin-right: auto; }
    .my-4 { margin-top: 1rem; margin-bottom: 1rem; }
    .mt-1 { margin-top: 0.25rem; }
    .mt-2 { margin-top: 0.5rem; }
    .mt-3 { margin-top: 0.75rem; }
    .mt-4 { margin-top: 1rem; }
    .mt-6 { margin-top: 1.5rem; }
    .-mt-12 { margin-top: -3rem; }
    .mb-1 { margin-bottom: 0.25rem; }
    .mb-2 { margin-bottom: 0.5rem; }
    .mb-3 { margin-bottom: 0.75rem; }
    .mb-4 { margin-bottom: 1rem; }
    .mb-6 { margin-bottom: 1.5rem; }
    .mr-1 { margin-right: 0.25rem; }
    .mr-2 { margin-right: 0.5rem; }
    .ml-2 { margin-left: 0.5rem; }
    .ml-6 { margin-left: 1.5rem; }
    
    .block { display: block; }
    .inline-block { display: inline-block; }
    .flex { display: flex; }
    .inline-flex { display: inline-flex; }
    .grid { display: grid; }
    .hidden { display: none; }
    
    .h-2 { height: 0.5rem; }
    .h-3 { height: 0.75rem; }
    .h-4 { height: 1rem; }
    .h-5 { height: 1.25rem; }
    .h-6 { height: 1.5rem; }
    .h-8 { height: 2rem; }
    .h-10 { height: 2.5rem; }
    .h-12 { height: 3rem; }
    .h-16 { height: 4rem; }
    .h-24 { height: 6rem; }
    .h-48 { height: 12rem; }
    .h-full { height: 100%; }
    .h-screen { height: 100vh; }
    .min-h-screen { min-height: 100vh; }
    
    .w-2 { width: 0.5rem; }
    .w-3 { width: 0.75rem; }
    .w-4 { width: 1rem; }
    .w-5 { width: 1.25rem; }
    .w-6 { width: 1.5rem; }
    .w-8 { width: 2rem; }
    .w-10 { width: 2.5rem; }
    .w-12 { width: 3rem; }
    .w-16 { width: 4rem; }
    .w-24 { width: 6rem; }
    .w-full { width: 100%; }
    .w-64 { width: 16rem; }
    .max-w-\[1440px\] { max-width: 1440px; }
    .max-w-md { max-width: 28rem; }
    
    .flex-1 { flex: 1 1 0%; }
    .flex-shrink-0 { flex-shrink: 0; }
    
    .-translate-y-1\/2 { transform: translateY(-50%); }
    .scale-110 { transform: scale(1.1); }
    
    @keyframes pulse-ring {
      0% { transform: scale(0.8); opacity: 0.8; }
      100% { transform: scale(1.2); opacity: 0; }
    }
    .animate-pulse-ring { animation: pulse-ring 2s cubic-bezier(0.4,0,0.6,1) infinite; }
    
    @keyframes ping { 75%,to { transform: scale(2); opacity: 0; } }
    .animate-ping { animation: ping 1s cubic-bezier(0,0,0.2,1) infinite; }
    
    @keyframes spin { to { transform: rotate(360deg); } }
    .animate-spin { animation: spin 1s linear infinite; }
    
    @keyframes slide-left {
      0% { transform: translateX(10px); opacity: 0; }
      100% { transform: translateX(0); opacity: 1; }
    }
    .animate-slide-left { animation: slide-left 0.3s ease-out; }
    
    @keyframes fade-in {
      0% { opacity: 0; }
      100% { opacity: 1; }
    }
    .animate-fade-in { animation: fade-in 0.3s ease-out; }
    
    .cursor-pointer { cursor: pointer; }
    .resize-none { resize: none; }
    .line-clamp-2 {
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    
    .grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
    .grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    .grid-cols-5 { grid-template-columns: repeat(5, minmax(0, 1fr)); }
    
    .flex-col { flex-direction: column; }
    .flex-wrap { flex-wrap: wrap; }
    .items-start { align-items: flex-start; }
    .items-center { align-items: center; }
    .justify-center { justify-content: center; }
    .justify-between { justify-content: space-between; }
    
    .gap-1 { gap: 0.25rem; }
    .gap-2 { gap: 0.5rem; }
    .gap-3 { gap: 0.75rem; }
    .gap-4 { gap: 1rem; }
    .gap-6 { gap: 1.5rem; }
    
    .space-y-1 > :not([hidden]) ~ :not([hidden]) { margin-top: 0.25rem; }
    .space-y-2 > :not([hidden]) ~ :not([hidden]) { margin-top: 0.5rem; }
    .space-y-3 > :not([hidden]) ~ :not([hidden]) { margin-top: 0.75rem; }
    .space-y-4 > :not([hidden]) ~ :not([hidden]) { margin-top: 1rem; }
    .space-y-6 > :not([hidden]) ~ :not([hidden]) { margin-top: 1.5rem; }
    .-space-x-2 > :not([hidden]) ~ :not([hidden]) { margin-right: -0.5rem; }
    
    .overflow-hidden { overflow: hidden; }
    .overflow-y-auto { overflow-y: auto; }
    .overflow-x-auto { overflow-x: auto; }
    
    .rounded-full { border-radius: 9999px; }
    .rounded-lg { border-radius: var(--radius); }
    .rounded-xl { border-radius: var(--radius); }
    .rounded-2xl { border-radius: calc(var(--radius) + 2px); }
    
    .border { border-width: 1px; }
    .border-2 { border-width: 2px; }
    .border-4 { border-width: 4px; }
    .border-t { border-top-width: 1px; }
    .border-b { border-bottom-width: 1px; }
    
    .border-border { border-color: hsl(var(--border)); }
    .border-primary { border-color: hsl(var(--primary)); }
    .border-primary\/20 { border-color: hsl(var(--primary) / 0.2); }
    .border-success\/20 { border-color: hsl(var(--success) / 0.2); }
    .border-warning\/20 { border-color: hsl(var(--warning) / 0.2); }
    .border-destructive\/20 { border-color: hsl(var(--destructive) / 0.2); }
    .border-transparent { border-color: transparent; }
    
    .bg-background { background-color: hsl(var(--background)); }
    .bg-primary { background-color: hsl(var(--primary)); }
    .bg-primary\/10 { background-color: hsl(var(--primary) / 0.1); }
    .bg-primary\/20 { background-color: hsl(var(--primary) / 0.2); }
    .bg-secondary { background-color: hsl(var(--secondary)); }
    .bg-muted { background-color: hsl(var(--muted)); }
    .bg-muted\/30 { background-color: hsl(var(--muted) / 0.3); }
    .bg-destructive { background-color: hsl(var(--destructive)); }
    .bg-success { background-color: hsl(var(--success)); }
    .bg-warning { background-color: hsl(var(--warning)); }
    .bg-warning\/10 { background-color: hsl(var(--warning) / 0.1); }
    .bg-black\/50 { background-color: rgba(0, 0, 0, 0.5); }
    .bg-white\/70 { background-color: rgba(255, 255, 255, 0.7); }
    
    .bg-gradient-to-r { background-image: linear-gradient(to right, var(--tw-gradient-stops)); }
    .bg-gradient-to-br { background-image: linear-gradient(to bottom right, var(--tw-gradient-stops)); }
    .from-primary { --tw-gradient-from: hsl(var(--primary)); }
    .to-accent { --tw-gradient-to: hsl(var(--accent)); }
    .from-primary\/10 { --tw-gradient-from: hsl(var(--primary) / 0.1); }
    .to-accent\/10 { --tw-gradient-to: hsl(var(--accent) / 0.1); }
    .from-amber-500\/10 { --tw-gradient-from: rgb(245 158 11 / 0.1); }
    .to-rose-500\/10 { --tw-gradient-to: rgb(244 63 94 / 0.1); }
    .from-blue-400 { --tw-gradient-from: #60a5fa; }
    .to-purple-500 { --tw-gradient-to: #a855f7; }
    .from-green-400 { --tw-gradient-from: #4ade80; }
    .to-teal-500 { --tw-gradient-to: #14b8a6; }
    
    .bg-clip-text { -webkit-background-clip: text; background-clip: text; }
    
    .object-cover { object-fit: cover; }
    
    .p-1 { padding: 0.25rem; }
    .p-2 { padding: 0.5rem; }
    .p-3 { padding: 0.75rem; }
    .p-4 { padding: 1rem; }
    .p-6 { padding: 1.5rem; }
    .p-8 { padding: 2rem; }
    
    .px-2 { padding-left: 0.5rem; padding-right: 0.5rem; }
    .px-3 { padding-left: 0.75rem; padding-right: 0.75rem; }
    .px-4 { padding-left: 1rem; padding-right: 1rem; }
    .px-6 { padding-left: 1.5rem; padding-right: 1.5rem; }
    .py-1 { padding-top: 0.25rem; padding-bottom: 0.25rem; }
    .py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
    .py-3 { padding-top: 0.75rem; padding-bottom: 0.75rem; }
    .py-4 { padding-top: 1rem; padding-bottom: 1rem; }
    .py-6 { padding-top: 1.5rem; padding-bottom: 1.5rem; }
    .py-8 { padding-top: 2rem; padding-bottom: 2rem; }
    
    .pt-2 { padding-top: 0.5rem; }
    .pt-4 { padding-top: 1rem; }
    .pt-24 { padding-top: 6rem; }
    .pb-6 { padding-bottom: 1.5rem; }
    .pb-8 { padding-bottom: 2rem; }
    
    .text-left { text-align: left; }
    .text-center { text-align: center; }
    .text-right { text-align: right; }
    
    .font-sans { font-family: 'Inter', system-ui, sans-serif; }
    .font-display { font-family: 'Space Grotesk', 'Inter', sans-serif; }
    
    .text-xs { font-size: 0.75rem; line-height: 1rem; }
    .text-sm { font-size: 0.875rem; line-height: 1.25rem; }
    .text-base { font-size: 1rem; line-height: 1.5rem; }
    .text-lg { font-size: 1.125rem; line-height: 1.75rem; }
    .text-xl { font-size: 1.25rem; line-height: 1.75rem; }
    .text-2xl { font-size: 1.5rem; line-height: 2rem; }
    .text-3xl { font-size: 1.875rem; line-height: 2.25rem; }
    .text-4xl { font-size: 2.25rem; line-height: 2.5rem; }
    
    .font-medium { font-weight: 500; }
    .font-semibold { font-weight: 600; }
    .font-bold { font-weight: 700; }
    .font-black { font-weight: 800; }
    
    .uppercase { text-transform: uppercase; }
    .capitalize { text-transform: capitalize; }
    
    .leading-tight { line-height: 1.25; }
    
    .text-foreground { color: hsl(var(--foreground)); }
    .text-primary { color: hsl(var(--primary)); }
    .text-primary-foreground { color: hsl(var(--primary-foreground)); }
    .text-muted-foreground { color: hsl(var(--muted-foreground)); }
    .text-accent { color: hsl(var(--accent)); }
    .text-success { color: hsl(var(--success)); }
    .text-warning { color: hsl(var(--warning)); }
    .text-destructive { color: hsl(var(--destructive)); }
    .text-amber-600 { color: #d97706; }
    .text-white { color: #fff; }
    .text-transparent { color: transparent; }
    
    .opacity-10 { opacity: 0.1; }
    .opacity-50 { opacity: 0.5; }
    
    .shadow-lg { box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1); }
    .shadow-xl { box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1); }
    .shadow-primary\/30 { box-shadow: 0 10px 15px -3px hsl(var(--primary) / 0.3); }
    
    .ring-1 { --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color); --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color); box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000); }
    .ring-border { --tw-ring-color: hsl(var(--border)); }
    
    .backdrop-blur-xl { --tw-backdrop-blur: blur(24px); backdrop-filter: var(--tw-backdrop-blur); }
    .backdrop-blur-sm { --tw-backdrop-blur: blur(4px); backdrop-filter: var(--tw-backdrop-blur); }
    
    .transition-all { transition-property: all; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); transition-duration: 150ms; }
    .transition-colors { transition-property: color, background-color, border-color, text-decoration-color, fill, stroke; transition-duration: 150ms; }
    .transition-transform { transition-property: transform; transition-duration: 150ms; }
    .duration-300 { transition-duration: 300ms; }
    .duration-500 { transition-duration: 500ms; }
    .ease-out { transition-timing-function: cubic-bezier(0, 0, 0.2, 1); }
    
    /* Custom Components */
    .glass-card {
      background: hsl(var(--background) / 0.7);
      backdrop-filter: blur(12px);
      border: 1px solid hsl(var(--border) / 0.2);
      box-shadow: 0 8px 32px hsl(var(--foreground) / 0.04);
      border-radius: var(--radius);
      transition: all 0.3s;
    }
    .glass-card:hover {
      box-shadow: 0 16px 48px hsl(var(--foreground) / 0.08);
      border-color: hsl(var(--primary) / 0.3);
    }
    
    .gradient-text {
      background: linear-gradient(to right, hsl(var(--primary)), hsl(var(--accent)));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    
    .live-indicator {
      position: relative;
      display: flex;
      height: 0.75rem;
      width: 0.75rem;
    }
    .live-indicator span {
      position: absolute;
      display: inline-flex;
      height: 100%;
      width: 100%;
      border-radius: 9999px;
      background: hsl(var(--destructive));
      opacity: 0.75;
      animation: pulse-ring 2s infinite;
    }
    .live-indicator .dot {
      position: relative;
      display: inline-flex;
      border-radius: 9999px;
      height: 0.75rem;
      width: 0.75rem;
      background: hsl(var(--destructive));
    }
    
    .difficulty-badge {
      padding: 0.25rem 0.75rem;
      border-radius: 9999px;
      font-size: 0.75rem;
      font-weight: 600;
    }
    .difficulty-badge.beginner {
      background: hsl(var(--success) / 0.1);
      color: hsl(var(--success));
      border: 1px solid hsl(var(--success) / 0.2);
    }
    .difficulty-badge.intermediate {
      background: hsl(var(--warning) / 0.1);
      color: hsl(var(--warning));
      border: 1px solid hsl(var(--warning) / 0.2);
    }
    .difficulty-badge.advanced {
      background: hsl(var(--destructive) / 0.1);
      color: hsl(var(--destructive));
      border: 1px solid hsl(var(--destructive) / 0.2);
    }
    
    .country-flag {
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      padding: 0.25rem 0.5rem;
      border-radius: 9999px;
      background: hsl(var(--muted) / 0.3);
      font-size: 0.75rem;
    }
    
    .reputation-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      padding: 0.25rem 0.5rem;
      border-radius: 9999px;
      background: hsl(var(--warning) / 0.1);
      color: hsl(var(--warning));
      font-size: 0.75rem;
      font-weight: 500;
    }
    
    .verification-badge {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 1.25rem;
      height: 1.25rem;
      border-radius: 9999px;
      background: hsl(var(--primary));
      color: white;
      box-shadow: 0 4px 6px -1px hsl(var(--primary) / 0.3);
    }
    
    .avatar-status {
      position: absolute;
      bottom: 0;
      right: 0;
      width: 0.875rem;
      height: 0.875rem;
      border-radius: 9999px;
      border: 2px solid hsl(var(--background));
    }
    .avatar-status.online { background: hsl(var(--success)); }
    .avatar-status.away { background: hsl(var(--warning)); }
    .avatar-status.offline { background: hsl(var(--muted-foreground)); }
    
    .quick-join-btn {
      width: 100%;
      padding: 0.75rem 1rem;
      border-radius: 0.75rem;
      background: linear-gradient(to right, hsl(var(--primary)), hsl(var(--accent)));
      color: white;
      font-weight: 600;
      box-shadow: 0 4px 6px -1px hsl(var(--primary) / 0.3);
      transition: all 0.3s;
      cursor: pointer;
    }
    .quick-join-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 12px -2px hsl(var(--primary) / 0.4);
    }
    
    /* Scrollbar */
    ::-webkit-scrollbar { width: 6px; height: 6px; }
    ::-webkit-scrollbar-track { background: hsl(var(--muted) / 0.3); }
    ::-webkit-scrollbar-thumb { background: hsl(var(--muted-foreground) / 0.3); border-radius: 9999px; }
    
    /* Media Queries */
    @media (min-width: 640px) {
      .sm\:block { display: block; }
      .sm\:grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
    }
    
    @media (min-width: 768px) {
      .md\:flex { display: flex; }
      .md\:hidden { display: none; }
    }
    
    @media (min-width: 1024px) {
      .lg\:col-span-3 { grid-column: span 3 / span 3; }
      .lg\:col-span-9 { grid-column: span 9 / span 9; }
      .lg\:grid-cols-12 { grid-template-columns: repeat(12, minmax(0, 1fr)); }
      .lg\:block { display: block; }
      .lg\:hidden { display: none; }
    }
    
    @media (min-width: 1280px) {
      .xl\:col-span-3 { grid-column: span 3 / span 3; }
      .xl\:col-span-6 { grid-column: span 6 / span 6; }
      .xl\:block { display: block; }
    }
  </style>
</head>
<body id="app-body" class="font-sans antialiased bg-background text-foreground">
  <div class="min-h-screen">
    <!-- ============ TOP NAVIGATION ============ -->
    <header class="fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-xl border-b border-border">
      <nav class="max-w-[1440px] mx-auto px-4 h-16 flex items-center justify-between">
        <!-- Logo -->
        <div class="flex items-center gap-2 cursor-pointer" id="logo-home">
          <div class="transition-all hover:scale-110 hover:rotate-12 duration-300">
            <svg class="w-8 h-8 text-primary" fill="currentColor" viewBox="0 0 24 24">
              <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" />
            </svg>
          </div>
          <span class="font-display font-bold text-xl gradient-text hidden sm:block">ThumbsApp</span>
        </div>
        
        <!-- Desktop Nav Links -->
        <div class="hidden md:flex items-center gap-1">
          <a href="#" class="flex items-center gap-2 px-4 py-2 rounded-xl hover:bg-muted transition-colors text-primary bg-primary/10" onclick="app.showPage('home')">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
            </svg>
            <span class="font-medium">Home</span>
          </a>
          <a href="#" class="flex items-center gap-2 px-4 py-2 rounded-xl hover:bg-muted transition-colors" onclick="app.showPage('explore')">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
            </svg>
            <span class="font-medium">Explore</span>
          </a>
          <a href="#" class="flex items-center gap-2 px-4 py-2 rounded-xl hover:bg-muted transition-colors" onclick="app.showPage('arena')">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <span class="font-medium">Arena</span>
          </a>
        </div>
        
        <!-- Right Icons -->
        <div class="flex items-center gap-3">
          <!-- Notification Bell -->
          <div class="relative">
            <button id="notif-bell" class="p-2 rounded-full hover:bg-muted transition-colors">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>
              </svg>
            </button>
            <span id="notif-badge" class="absolute -top-1 -right-1 bg-destructive text-white text-xs rounded-full w-5 h-5 flex items-center justify-center hidden">3</span>
          </div>
          
          <!-- Theme Toggle -->
          <button id="theme-toggle" class="p-2 rounded-full hover:bg-muted transition-colors">
            <svg id="theme-icon" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
            </svg>
          </button>
          
          <!-- Profile / Auth Buttons -->
          <div id="auth-section">
            <div id="user-menu" class="hidden">
              <button id="profile-btn" class="flex items-center gap-2 p-1 rounded-full border-2 border-transparent hover:border-primary transition-colors">
                <div class="relative w-8 h-8 rounded-full overflow-hidden bg-gradient-to-r from-primary to-accent flex items-center justify-center text-white">
                  <span id="user-initial" class="font-bold text-sm">U</span>
                </div>
              </button>
            </div>
            
            <div id="guest-menu" class="flex items-center gap-2">
              <button onclick="app.showAuth('login')" class="px-4 py-2 rounded-xl bg-primary/10 text-primary font-medium hover:bg-primary/20 transition-colors">Login</button>
              <button onclick="app.showAuth('register')" class="px-4 py-2 rounded-xl bg-gradient-to-r from-primary to-accent text-white font-medium shadow-lg">Sign Up</button>
            </div>
          </div>
        </div>
      </nav>
      
      <!-- Mobile Bottom Nav -->
      <div class="md:hidden fixed bottom-0 left-0 right-0 bg-background/80 backdrop-blur-xl border-t border-border">
        <div class="flex items-center justify-around py-2">
          <button onclick="app.showPage('home')" class="flex flex-col items-center p-2 text-primary">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
            </svg>
            <span class="text-xs mt-1">Home</span>
          </button>
          <button onclick="app.showPage('explore')" class="flex flex-col items-center p-2 text-muted-foreground">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
            </svg>
            <span class="text-xs mt-1">Explore</span>
          </button>
          <button onclick="app.showPage('arena')" class="flex flex-col items-center p-2 text-muted-foreground">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <span class="text-xs mt-1">Arena</span>
          </button>
        </div>
      </div>
    </header>

    <!-- ============ MAIN CONTENT AREA ============ -->
    <div class="max-w-[1440px] mx-auto px-4 pt-24 pb-20 md:pb-8">
      
      <!-- HOME PAGE -->
      <div id="home-page" class="grid grid-cols-1 lg:grid-cols-12 gap-6">
        <!-- Left Column -->
        <aside class="lg:col-span-3 hidden lg:block">
          <div class="sticky top-24 space-y-6">
            <!-- Profile Card -->
            <div id="profile-card" class="glass-card p-6 hidden">
              <div class="flex items-start gap-4">
                <div class="relative">
                  <div class="w-16 h-16 rounded-full overflow-hidden bg-gradient-to-br from-primary to-accent flex items-center justify-center text-white text-xl font-bold">
                    <span id="profile-initial">U</span>
                  </div>
                  <span id="profile-status" class="avatar-status online"></span>
                  <span id="profile-verified" class="absolute -bottom-1 -right-1 verification-badge hidden">
                    <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 24 24">
                      <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>
                    </svg>
                  </span>
                </div>
                <div class="flex-1">
                  <div class="flex items-center gap-2 mb-1">
                    <h3 id="profile-name" class="font-display font-semibold text-lg">Guest User</h3>
                  </div>
                  <div class="flex items-center gap-3 mb-3 text-sm">
                    <span class="flex items-center gap-1 text-muted-foreground">
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                      </svg>
                      <span id="profile-country">US</span>
                    </span>
                    <span class="reputation-badge">
                      <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
                      </svg>
                      <span id="profile-reputation">4.50</span>
                    </span>
                  </div>
                  <div class="grid grid-cols-3 gap-2 text-center">
                    <div>
                      <p id="profile-charts" class="font-bold text-lg">0</p>
                      <p class="text-xs text-muted-foreground">Charts</p>
                    </div>
                    <div>
                      <p id="profile-followers" class="font-bold text-lg">0</p>
                      <p class="text-xs text-muted-foreground">Followers</p>
                    </div>
                    <div>
                      <p id="profile-following" class="font-bold text-lg">0</p>
                      <p class="text-xs text-muted-foreground">Following</p>
                    </div>
                  </div>
                </div>
              </div>
              <div class="mt-4 flex gap-2">
                <button class="glass-card px-3 py-1.5 text-sm rounded-xl flex-1 flex items-center justify-center gap-1" onclick="app.openCreateChartModal()">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                  </svg>
                  Create
                </button>
                <button class="glass-card px-3 py-1.5 text-sm rounded-xl flex-1 flex items-center justify-center gap-1">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                  </svg>
                  <span id="profile-balance">0</span>
                </button>
              </div>
            </div>
            
            <!-- Guest Card -->
            <div id="guest-card" class="glass-card p-6">
              <div class="text-center">
                <div class="w-20 h-20 mx-auto rounded-full bg-gradient-to-r from-primary to-accent flex items-center justify-center text-white text-3xl font-bold mb-4">
                  üëã
                </div>
                <h3 class="font-display font-semibold text-lg mb-2">Welcome to ThumbsApp!</h3>
                <p class="text-sm text-muted-foreground mb-4">Join the community to create charts, compete, and earn rewards.</p>
                <div class="flex gap-2">
                  <button onclick="app.showAuth('login')" class="flex-1 px-4 py-2 rounded-xl bg-primary/10 text-primary font-medium hover:bg-primary/20 transition-colors">Login</button>
                  <button onclick="app.showAuth('register')" class="flex-1 px-4 py-2 rounded-xl bg-gradient-to-r from-primary to-accent text-white font-medium shadow-lg">Sign Up</button>
                </div>
              </div>
            </div>
            
            <!-- Discovery Panel -->
            <div class="glass-card p-6">
              <h4 class="font-display font-semibold mb-4 flex items-center">
                <svg class="w-5 h-5 mr-2 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                Discovery
              </h4>
              <nav class="space-y-2">
                <a href="#" class="flex items-center gap-3 p-3 rounded-xl hover:bg-muted transition-colors group">
                  <span class="text-primary group-hover:scale-110 transition-transform">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                      <path d="M13 5.5v6h5l-6 7v-6h-5l6-7z"/>
                    </svg>
                  </span>
                  <span class="flex-1 font-medium">Trending Charts</span>
                  <span class="bg-primary/10 text-primary text-xs px-2 py-0.5 rounded-full">234</span>
                </a>
                <a href="#" class="flex items-center gap-3 p-3 rounded-xl hover:bg-muted transition-colors">
                  <span class="text-warning">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                      <path d="M5 3h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2zm12 4h-2v2h2V7zm0 4h-2v2h2v-2zm0 4h-2v2h2v-2zM7 7h2v2H7V7zm0 4h2v2H7v-2zm0 4h2v2H7v-2z"/>
                    </svg>
                  </span>
                  <span class="flex-1 font-medium">Top Players</span>
                </a>
                <a href="#" class="flex items-center gap-3 p-3 rounded-xl hover:bg-muted">
                  <span class="text-success">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                      <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-.5-13v6l5.25 3.15.75-1.23-4.5-2.67V7z"/>
                    </svg>
                  </span>
                  <span class="flex-1 font-medium">New Games</span>
                  <span class="bg-success/10 text-success text-xs px-2 py-0.5">+12</span>
                </a>
              </nav>
            </div>
          </div>
        </aside>

        <!-- Center Column - Charts Feed -->
        <main class="lg:col-span-9 xl:col-span-6">
          <div class="space-y-4" id="charts-feed">
            <!-- Quick Create -->
            <div id="quick-create" class="glass-card p-4 flex items-center gap-3 hidden">
              <div class="w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center text-primary">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                </svg>
              </div>
              <input type="text" id="quick-chart-input" placeholder="Create a new challenge..." class="flex-1 bg-transparent border-none focus:outline-none text-foreground placeholder-muted-foreground">
              <button class="px-4 py-2 rounded-full bg-gradient-to-r from-primary to-accent text-white text-sm font-medium shadow-lg" onclick="app.openCreateChartModal()">
                Post
              </button>
            </div>
            
            <!-- Feed Filters -->
            <div class="flex items-center gap-2 overflow-x-auto py-2">
              <button class="px-4 py-2 rounded-full bg-primary text-white text-sm font-medium filter-btn active" data-filter="all">All</button>
              <button class="px-4 py-2 rounded-full bg-muted text-muted-foreground hover:bg-primary/10 text-sm font-medium filter-btn" data-filter="trending">Trending</button>
              <button class="px-4 py-2 rounded-full bg-muted text-muted-foreground hover:bg-primary/10 text-sm font-medium filter-btn" data-filter="beginner">Beginner</button>
              <button class="px-4 py-2 rounded-full bg-muted text-muted-foreground hover:bg-primary/10 text-sm font-medium filter-btn" data-filter="intermediate">Intermediate</button>
              <button class="px-4 py-2 rounded-full bg-muted text-muted-foreground hover:bg-primary/10 text-sm font-medium filter-btn" data-filter="advanced">Advanced</button>
            </div>
            
            <!-- Chart Cards -->
            <div id="charts-container"></div>
            
            <!-- Load More -->
            <div class="py-6 text-center">
              <button class="px-6 py-3 rounded-xl bg-muted text-muted-foreground hover:bg-primary/10 transition-colors" onclick="app.loadMoreCharts()">
                Load More
              </button>
            </div>
          </div>
        </main>

        <!-- Right Column - Live Arenas -->
        <aside class="xl:col-span-3 hidden xl:block">
          <div class="sticky top-24 space-y-6">
            <!-- Live Arenas Header -->
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-2">
                <div class="live-indicator">
                  <span></span>
                  <span class="dot"></span>
                </div>
                <h3 class="font-display font-semibold">Live Arenas</h3>
              </div>
              <span class="text-sm text-muted-foreground flex items-center gap-1">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                </svg>
                <span id="live-viewers">2.3k</span>
              </span>
            </div>
            
            <!-- Live Arenas Container -->
            <div id="live-arenas" class="space-y-4"></div>
            
            <!-- Quick Join Card -->
            <div class="glass-card p-6 bg-gradient-to-br from-primary/5 to-accent/5">
              <div class="flex items-center gap-4 mb-4">
                <div class="p-3 rounded-2xl bg-primary/10 text-primary">
                  <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                  </svg>
                </div>
                <div>
                  <h4 class="font-display font-semibold mb-1">Ready to Compete?</h4>
                  <p class="text-xs text-muted-foreground">Join an arena and showcase skills</p>
                </div>
              </div>
              <div class="flex items-center justify-between mb-4 text-sm">
                <div>
                  <p class="font-bold text-lg" id="open-arenas">24</p>
                  <p class="text-xs text-muted-foreground">Open arenas</p>
                </div>
                <div>
                  <p class="font-bold text-lg" id="players-waiting">156</p>
                  <p class="text-xs text-muted-foreground">Players waiting</p>
                </div>
              </div>
              <button class="quick-join-btn" onclick="app.quickJoinMatch()">
                Quick Join Match
              </button>
            </div>
          </div>
        </aside>
      </div>

      <!-- EXPLORE PAGE -->
      <div id="explore-page" class="hidden">
        <div class="text-center py-12">
          <h2 class="text-3xl font-bold gradient-text mb-4">Explore Games</h2>
          <p class="text-muted-foreground mb-8">Discover new challenges and top players</p>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <div class="glass-card p-6">
              <div class="w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4">
                <svg class="w-8 h-8 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/>
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
              </div>
              <h3 class="font-bold text-xl mb-2">Speed Chess</h3>
              <p class="text-sm text-muted-foreground mb-4">5-minute blitz matches</p>
              <button class="w-full py-2 rounded-xl bg-primary/10 text-primary font-medium">View Games</button>
            </div>
            <div class="glass-card p-6">
              <div class="w-16 h-16 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-4">
                <svg class="w-8 h-8 text-success" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                </svg>
              </div>
              <h3 class="font-bold text-xl mb-2">Strategy Games</h3>
              <p class="text-sm text-muted-foreground mb-4">Turn-based competitions</p>
              <button class="w-full py-2 rounded-xl bg-success/10 text-success font-medium">View Games</button>
            </div>
            <div class="glass-card p-6">
              <div class="w-16 h-16 rounded-full bg-warning/10 flex items-center justify-center mx-auto mb-4">
                <svg class="w-8 h-8 text-warning" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                </svg>
              </div>
              <h3 class="font-bold text-xl mb-2">Action Games</h3>
              <p class="text-sm text-muted-foreground mb-4">Real-time competitions</p>
              <button class="w-full py-2 rounded-xl bg-warning/10 text-warning font-medium">View Games</button>
            </div>
          </div>
        </div>
      </div>

      <!-- ARENA PAGE -->
      <div id="arena-page" class="hidden">
        <div class="text-center py-12">
          <h2 class="text-3xl font-bold gradient-text mb-4">Live Arena</h2>
          <p class="text-muted-foreground mb-8">Watch live matches and join the action</p>
          <div id="arena-grid" class="grid grid-cols-1 lg:grid-cols-2 gap-6"></div>
        </div>
      </div>

      <!-- AUTH MODALS -->
      <div id="auth-modal" class="fixed inset-0 z-50 hidden flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm">
        <div class="glass-card max-w-md w-full p-8">
          <div class="flex justify-end">
            <button class="p-2 rounded-full hover:bg-muted transition-colors" onclick="app.hideAuth()">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
              </svg>
            </button>
          </div>
          
          <!-- Login Form -->
          <div id="login-form" class="space-y-4">
            <div class="text-center mb-8">
              <div class="w-16 h-16 mx-auto rounded-full bg-gradient-to-r from-primary to-accent flex items-center justify-center text-white text-2xl font-bold mb-4">üëç</div>
              <h2 class="font-display font-bold text-3xl gradient-text">Welcome Back</h2>
              <p class="text-muted-foreground mt-2">Sign in to continue to ThumbsApp</p>
            </div>
            
            <div>
              <label class="block text-sm font-medium mb-2">Email</label>
              <input type="email" id="login-email" class="w-full px-4 py-3 rounded-xl border border-border bg-background" placeholder="your@email.com">
            </div>
            
            <div>
              <label class="block text-sm font-medium mb-2">Password</label>
              <input type="password" id="login-password" class="w-full px-4 py-3 rounded-xl border border-border bg-background" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
            </div>
            
            <button onclick="app.login()" class="w-full py-3 bg-gradient-to-r from-primary to-accent text-white rounded-xl font-semibold shadow-lg">
              Sign In
            </button>
            
            <p class="text-center text-sm text-muted-foreground">
              Don't have an account? 
              <button onclick="app.switchAuth('register')" class="text-primary hover:underline">Create one</button>
            </p>
          </div>
          
          <!-- Register Form -->
          <div id="register-form" class="space-y-4 hidden">
            <div class="text-center mb-8">
              <div class="w-16 h-16 mx-auto rounded-full bg-gradient-to-r from-primary to-accent flex items-center justify-center text-white text-2xl font-bold mb-4">‚ú®</div>
              <h2 class="font-display font-bold text-3xl gradient-text">Join ThumbsApp</h2>
              <p class="text-muted-foreground mt-2">Create your account and start competing</p>
            </div>
            
            <div>
              <label class="block text-sm font-medium mb-2">Username</label>
              <input type="text" id="register-username" class="w-full px-4 py-3 rounded-xl border border-border bg-background" placeholder="johndoe">
            </div>
            
            <div>
              <label class="block text-sm font-medium mb-2">Email</label>
              <input type="email" id="register-email" class="w-full px-4 py-3 rounded-xl border border-border bg-background" placeholder="your@email.com">
            </div>
            
            <div>
              <label class="block text-sm font-medium mb-2">Display Name</label>
              <input type="text" id="register-displayName" class="w-full px-4 py-3 rounded-xl border border-border bg-background" placeholder="John Doe">
            </div>
            
            <div>
              <label class="block text-sm font-medium mb-2">Country</label>
              <select id="register-country" class="w-full px-4 py-3 rounded-xl border border-border bg-background">
                <option value="US">United States</option>
                <option value="GB">United Kingdom</option>
                <option value="SG">Singapore</option>
                <option value="ES">Spain</option>
                <option value="CA">Canada</option>
                <option value="AU">Australia</option>
              </select>
            </div>
            
            <div>
              <label class="block text-sm font-medium mb-2">Password</label>
              <input type="password" id="register-password" class="w-full px-4 py-3 rounded-xl border border-border bg-background" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
            </div>
            
            <button onclick="app.register()" class="w-full py-3 bg-gradient-to-r from-primary to-accent text-white rounded-xl font-semibold shadow-lg">
              Create Account
            </button>
            
            <p class="text-center text-sm text-muted-foreground">
              Already have an account? 
              <button onclick="app.switchAuth('login')" class="text-primary hover:underline">Sign in</button>
            </p>
          </div>
        </div>
      </div>

      <!-- CREATE CHART MODAL -->
      <div id="create-chart-modal" class="fixed inset-0 z-50 hidden flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm">
        <div class="glass-card max-w-md w-full p-6">
          <div class="flex items-center justify-between mb-4">
            <h3 class="font-display font-bold text-xl gradient-text">Create Challenge</h3>
            <button class="p-2 rounded-full hover:bg-muted transition-colors" onclick="app.hideCreateChartModal()">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
              </svg>
            </button>
          </div>
          
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium mb-2">Title</label>
              <input type="text" id="chart-title" class="w-full px-4 py-2 rounded-lg border border-border bg-background" placeholder="Enter challenge title">
            </div>
            
            <div>
              <label class="block text-sm font-medium mb-2">Game</label>
              <input type="text" id="chart-game" class="w-full px-4 py-2 rounded-lg border border-border bg-background" placeholder="e.g., Speed Chess">
            </div>
            
            <div>
              <label class="block text-sm font-medium mb-2">Entry Fee (THB)</label>
              <input type="number" id="chart-entryFee" class="w-full px-4 py-2 rounded-lg border border-border bg-background" placeholder="10" min="10">
            </div>
            
            <div>
              <label class="block text-sm font-medium mb-2">Difficulty</label>
              <select id="chart-difficulty" class="w-full px-4 py-2 rounded-lg border border-border bg-background">
                <option value="beginner">Beginner</option>
                <option value="intermediate">Intermediate</option>
                <option value="advanced">Advanced</option>
              </select>
            </div>
            
            <div>
              <label class="block text-sm font-medium mb-2">Description (optional)</label>
              <textarea id="chart-description" rows="3" class="w-full px-4 py-2 rounded-lg border border-border bg-background resize-none" placeholder="Describe your challenge..."></textarea>
            </div>
            
            <div class="bg-primary/10 rounded-lg p-3">
              <div class="flex items-center justify-between text-sm">
                <span>Your balance:</span>
                <span class="font-semibold" id="modal-balance">100 THB</span>
              </div>
              <div class="flex items-center justify-between text-sm mt-1">
                <span>Entry fee:</span>
                <span class="font-semibold" id="modal-fee">10 THB</span>
              </div>
            </div>
            
            <button onclick="app.createChart()" class="w-full py-3 bg-gradient-to-r from-primary to-accent text-white rounded-xl font-semibold shadow-lg">
              Create Challenge
            </button>
          </div>
        </div>
      </div>

      <!-- DONATION MODAL -->
      <div id="donation-modal" class="fixed inset-0 z-50 hidden flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm">
        <div class="glass-card max-w-md w-full p-6">
          <div class="flex items-center justify-between mb-4">
            <h3 class="font-display font-bold text-xl gradient-text">Support Challenge</h3>
            <button class="p-2 rounded-full hover:bg-muted transition-colors" onclick="app.hideDonationModal()">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
              </svg>
            </button>
          </div>
          
          <div class="space-y-4">
            <div>
              <label class="text-sm font-medium mb-2 block">Amount (THB)</label>
              <div class="grid grid-cols-5 gap-2 mt-2">
                <button class="preset-amount py-2 border rounded-lg hover:bg-primary/10 transition-colors" data-amount="10">10</button>
                <button class="preset-amount py-2 border rounded-lg bg-primary/10 border-primary" data-amount="25">25</button>
                <button class="preset-amount py-2 border rounded-lg" data-amount="50">50</button>
                <button class="preset-amount py-2 border rounded-lg" data-amount="100">100</button>
                <button class="preset-amount py-2 border rounded-lg" data-amount="250">250</button>
              </div>
            </div>
            
            <input type="number" id="donation-custom" placeholder="Custom amount" class="w-full px-4 py-2 rounded-lg border border-border bg-background">
            
            <textarea id="donation-message" rows="2" placeholder="Message (optional)" class="w-full px-4 py-2 rounded-lg border border-border bg-background resize-none"></textarea>
            
            <div class="bg-primary/10 rounded-lg p-3">
              <div class="flex items-center justify-between text-sm">
                <span>Donating to:</span>
                <span class="font-semibold" id="donation-recipient">Sarah Chen</span>
              </div>
            </div>
            
            <button onclick="app.processDonation()" class="w-full py-3 bg-gradient-to-r from-primary to-accent text-white rounded-xl font-semibold shadow-lg" id="donation-confirm">
              Donate 25 THB
            </button>
          </div>
        </div>
      </div>

      <!-- TOAST CONTAINER -->
      <div id="toast-container" class="fixed top-20 right-4 z-50 space-y-2"></div>
    </div>
  </div>

  <script>
    // ============ MAIN APPLICATION ============
    class ThumbsApp {
      constructor() {
        this.currentUser = null;
        this.currentPage = 'home';
        this.currentFilter = 'all';
        this.chartsPage = 1;
        this.hasMoreCharts = true;
        this.currentChart = null;
        this.charts = [];
        this.arenas = [];
        
        // Mock data
        this.mockUsers = [
          { id: '1', username: 'john_doe', displayName: 'John Doe', email: 'john@example.com', password: 'password123', country: 'US', balance: 2500, reputation: 4.8, chartsCreated: 12, followers: 234, following: 156, isVerified: true, status: 'online' },
          { id: '2', username: 'jane_smith', displayName: 'Jane Smith', email: 'jane@example.com', password: 'password123', country: 'GB', balance: 1800, reputation: 4.6, chartsCreated: 8, followers: 189, following: 203, isVerified: false, status: 'away' },
          { id: '3', username: 'sarah_chen', displayName: 'Sarah Chen', email: 'sarah@example.com', password: 'password123', country: 'SG', balance: 3200, reputation: 4.9, chartsCreated: 15, followers: 567, following: 89, isVerified: true, status: 'online' }
        ];
        
        this.mockCharts = [
          {
            id: '1',
            title: 'Speed Chess Championship',
            description: '5-minute blitz chess tournament. Winner takes all!',
            creator: this.mockUsers[0],
            game: 'Speed Chess',
            entryFee: 50,
            prizePool: 100,
            difficulty: 'intermediate',
            participants: [this.mockUsers[0], this.mockUsers[1]],
            maxParticipants: 4,
            totalShoutouts: 23,
            totalDonations: 150,
            startsAt: new Date(Date.now() + 3600000).toISOString(),
            status: 'open'
          },
          {
            id: '2',
            title: 'Beginner Strategy Challenge',
            description: 'Perfect for new players. Learn and win!',
            creator: this.mockUsers[1],
            game: 'Strategy Masters',
            entryFee: 10,
            prizePool: 20,
            difficulty: 'beginner',
            participants: [this.mockUsers[1], this.mockUsers[2]],
            maxParticipants: 2,
            totalShoutouts: 8,
            totalDonations: 45,
            startsAt: new Date(Date.now() - 1800000).toISOString(),
            status: 'live'
          },
          {
            id: '3',
            title: 'Pro Gaming Arena',
            description: 'Advanced players only. High stakes competition.',
            creator: this.mockUsers[2],
            game: 'Action Arena',
            entryFee: 100,
            prizePool: 300,
            prizeItem: { name: 'Gaming Mouse', description: 'Pro gaming mouse' },
            difficulty: 'advanced',
            participants: [this.mockUsers[2]],
            maxParticipants: 8,
            totalShoutouts: 45,
            totalDonations: 320,
            startsAt: new Date(Date.now() + 7200000).toISOString(),
            status: 'open'
          },
          {
            id: '4',
            title: 'Weekend Tournament',
            description: 'Special weekend event with bonus prizes',
            creator: this.mockUsers[0],
            game: 'Speed Chess',
            entryFee: 25,
            prizePool: 200,
            difficulty: 'intermediate',
            participants: [this.mockUsers[0], this.mockUsers[2]],
            maxParticipants: 16,
            totalShoutouts: 67,
            totalDonations: 450,
            startsAt: new Date(Date.now() + 86400000).toISOString(),
            status: 'open'
          }
        ];
        
        this.mockArenas = [
          {
            id: '1',
            players: [
              { user: this.mockUsers[0], score: 1250 },
              { user: this.mockUsers[1], score: 1180 }
            ],
            spectators: 45,
            chart: this.mockCharts[1],
            status: 'live'
          },
          {
            id: '2',
            players: [
              { user: this.mockUsers[2], score: 980 },
              { user: this.mockUsers[0], score: 1020 }
            ],
            spectators: 32,
            chart: this.mockCharts[0],
            status: 'live'
          }
        ];
      }

      init() {
        this.loadTheme();
        this.checkAuth();
        this.renderCharts();
        this.renderArenas();
        this.setupEventListeners();
        this.updateStats();
      }

      loadTheme() {
        const savedTheme = localStorage.getItem('theme') || 'light';
        if (savedTheme === 'dark') {
          document.getElementById('app-body').classList.add('dark');
          document.getElementById('theme-icon').setAttribute('d', 'M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z');
        }
      }

      setupEventListeners() {
        // Theme toggle
        document.getElementById('theme-toggle').addEventListener('click', () => this.toggleTheme());
        
        // Logo home
        document.getElementById('logo-home').addEventListener('click', () => this.showPage('home'));
        
        // Notification bell
        document.getElementById('notif-bell').addEventListener('click', () => this.showToast('Notifications', 'You have 3 new notifications', 'info'));
        
        // Profile button
        document.getElementById('profile-btn')?.addEventListener('click', () => {
          if (this.currentUser) {
            this.showToast('Profile', 'Viewing your profile', 'info');
          }
        });
        
        // Filter buttons
        document.querySelectorAll('.filter-btn').forEach(btn => {
          btn.addEventListener('click', (e) => {
            document.querySelectorAll('.filter-btn').forEach(b => {
              b.classList.remove('bg-primary', 'text-white');
              b.classList.add('bg-muted', 'text-muted-foreground');
            });
            btn.classList.add('bg-primary', 'text-white');
            btn.classList.remove('bg-muted', 'text-muted-foreground');
            
            this.currentFilter = btn.dataset.filter;
            this.renderCharts();
          });
        });
        
        // Preset amounts
        document.querySelectorAll('.preset-amount').forEach(btn => {
          btn.addEventListener('click', function() {
            document.querySelectorAll('.preset-amount').forEach(b => {
              b.classList.remove('bg-primary/10', 'border-primary');
            });
            this.classList.add('bg-primary/10', 'border-primary');
            document.getElementById('donation-confirm').innerHTML = `Donate ${this.dataset.amount} THB`;
          });
        });
      }

      toggleTheme() {
        const body = document.getElementById('app-body');
        const icon = document.getElementById('theme-icon');
        const isDark = body.classList.contains('dark');
        
        if (isDark) {
          body.classList.remove('dark');
          icon.setAttribute('d', 'M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z');
          localStorage.setItem('theme', 'light');
        } else {
          body.classList.add('dark');
          icon.setAttribute('d', 'M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z');
          localStorage.setItem('theme', 'dark');
        }
      }

      checkAuth() {
        const savedUser = localStorage.getItem('thumbsapp_user');
        if (savedUser) {
          this.currentUser = JSON.parse(savedUser);
          this.updateUIForAuth(true);
        } else {
          this.updateUIForAuth(false);
        }
      }

      updateUIForAuth(isAuthenticated) {
        const profileCard = document.getElementById('profile-card');
        const guestCard = document.getElementById('guest-card');
        const userMenu = document.getElementById('user-menu');
        const guestMenu = document.getElementById('guest-menu');
        const quickCreate = document.getElementById('quick-create');
        
        if (isAuthenticated && this.currentUser) {
          profileCard?.classList.remove('hidden');
          guestCard?.classList.add('hidden');
          userMenu?.classList.remove('hidden');
          guestMenu?.classList.add('hidden');
          quickCreate?.classList.remove('hidden');
          this.updateProfileUI();
        } else {
          profileCard?.classList.add('hidden');
          guestCard?.classList.remove('hidden');
          userMenu?.classList.add('hidden');
          guestMenu?.classList.remove('hidden');
          quickCreate?.classList.add('hidden');
        }
      }

      updateProfileUI() {
        if (!this.currentUser) return;
        
        const user = this.currentUser;
        document.getElementById('profile-name').textContent = user.displayName;
        document.getElementById('profile-initial').textContent = user.displayName.charAt(0);
        document.getElementById('profile-country').textContent = user.country;
        document.getElementById('profile-reputation').textContent = user.reputation.toFixed(2);
        document.getElementById('profile-charts').textContent = user.chartsCreated;
        document.getElementById('profile-followers').textContent = this.formatNumber(user.followers);
        document.getElementById('profile-following').textContent = this.formatNumber(user.following);
        document.getElementById('profile-balance').textContent = this.formatCurrency(user.balance);
        document.getElementById('user-initial').textContent = user.displayName.charAt(0);
        
        if (user.isVerified) {
          document.getElementById('profile-verified').classList.remove('hidden');
        }
      }

      showPage(page) {
        document.getElementById('home-page').classList.add('hidden');
        document.getElementById('explore-page').classList.add('hidden');
        document.getElementById('arena-page').classList.add('hidden');
        
        document.getElementById(`${page}-page`).classList.remove('hidden');
        this.currentPage = page;
        
        if (page === 'arena') {
          this.renderArenas();
        }
      }

      showAuth(type) {
        document.getElementById('auth-modal').classList.remove('hidden');
        document.getElementById('login-form').classList.add('hidden');
        document.getElementById('register-form').classList.add('hidden');
        document.getElementById(`${type}-form`).classList.remove('hidden');
      }

      hideAuth() {
        document.getElementById('auth-modal').classList.add('hidden');
      }

      switchAuth(type) {
        document.getElementById('login-form').classList.add('hidden');
        document.getElementById('register-form').classList.add('hidden');
        document.getElementById(`${type}-form`).classList.remove('hidden');
      }

      login() {
        const email = document.getElementById('login-email').value;
        const password = document.getElementById('login-password').value;
        
        const user = this.mockUsers.find(u => u.email === email && u.password === password);
        
        if (user) {
          this.currentUser = { ...user };
          delete this.currentUser.password;
          localStorage.setItem('thumbsapp_user', JSON.stringify(this.currentUser));
          this.updateUIForAuth(true);
          this.hideAuth();
          this.showToast('Success', 'Logged in successfully', 'success');
        } else {
          this.showToast('Error', 'Invalid email or password', 'error');
        }
      }

      register() {
        const newUser = {
          id: (this.mockUsers.length + 1).toString(),
          username: document.getElementById('register-username').value,
          email: document.getElementById('register-email').value,
          displayName: document.getElementById('register-displayName').value || document.getElementById('register-username').value,
          country: document.getElementById('register-country').value,
          password: document.getElementById('register-password').value,
          balance: 100,
          reputation: 4.5,
          chartsCreated: 0,
          followers: 0,
          following: 0,
          isVerified: false,
          status: 'online'
        };
        
        if (!newUser.username || !newUser.email || !newUser.password) {
          this.showToast('Error', 'Please fill all required fields', 'error');
          return;
        }
        
        this.mockUsers.push(newUser);
        this.currentUser = { ...newUser };
        delete this.currentUser.password;
        localStorage.setItem('thumbsapp_user', JSON.stringify(this.currentUser));
        this.updateUIForAuth(true);
        this.hideAuth();
        this.showToast('Success', 'Account created successfully', 'success');
      }

      renderCharts() {
        const container = document.getElementById('charts-container');
        let filteredCharts = [...this.mockCharts];
        
        if (this.currentFilter !== 'all') {
          if (['beginner', 'intermediate', 'advanced'].includes(this.currentFilter)) {
            filteredCharts = filteredCharts.filter(c => c.difficulty === this.currentFilter);
          } else if (this.currentFilter === 'trending') {
            filteredCharts = filteredCharts.sort((a, b) => b.totalShoutouts - a.totalShoutouts);
          }
        }
        
        if (filteredCharts.length === 0) {
          container.innerHTML = `
            <div class="glass-card p-8 text-center">
              <svg class="w-16 h-16 mx-auto text-muted-foreground mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
              </svg>
              <h3 class="text-xl font-semibold mb-2">No open charts</h3>
              <p class="text-muted-foreground mb-4">Be the first to create a challenge!</p>
              <button class="px-6 py-3 bg-gradient-to-r from-primary to-accent text-white rounded-xl font-semibold" onclick="app.openCreateChartModal()">
                Create Chart
              </button>
            </div>
          `;
          return;
        }
        
        container.innerHTML = filteredCharts.map(chart => this.renderChartCard(chart)).join('');
      }

      renderChartCard(chart) {
        const timeLeft = this.getTimeLeft(chart.startsAt);
        const spotsLeft = chart.maxParticipants - chart.participants.length;
        
        return `
          <div class="glass-card p-6 hover:shadow-xl transition-all chart-card mb-4" data-chart-id="${chart.id}">
            <div class="flex items-start justify-between mb-4">
              <div class="flex items-center gap-3">
                <div class="relative">
                  <div class="w-12 h-12 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white font-bold">
                    ${chart.creator.displayName.charAt(0)}
                  </div>
                  <span class="avatar-status ${chart.creator.status}"></span>
                  ${chart.creator.isVerified ? '<span class="absolute -bottom-1 -right-1 verification-badge w-4 h-4 text-[10px]">‚úì</span>' : ''}
                </div>
                <div>
                  <div class="flex items-center gap-2 mb-1">
                    <h4 class="font-semibold">${chart.creator.displayName}</h4>
                    <span class="country-flag">
                      <img src="https://flagcdn.com/w20/${chart.creator.country.toLowerCase()}.png" width="16" height="12" class="rounded-sm" onerror="this.src='https://flagcdn.com/w20/us.png'">
                      <span>${chart.creator.country}</span>
                    </span>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="reputation-badge">
                      <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
                      </svg>
                      ${chart.creator.reputation.toFixed(2)}
                    </span>
                  </div>
                </div>
              </div>
              <span class="difficulty-badge ${chart.difficulty}">
                ${chart.difficulty.charAt(0).toUpperCase() + chart.difficulty.slice(1)}
              </span>
            </div>
            
            <h3 class="font-display font-bold text-xl mb-2">${chart.title}</h3>
            <p class="text-sm text-muted-foreground mb-3 line-clamp-2">${chart.description}</p>
            
            <div class="flex items-center gap-4 mb-3 text-sm flex-wrap">
              <span class="flex items-center gap-1 text-muted-foreground">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/>
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                ${chart.game}
              </span>
              <span class="flex items-center gap-1 text-success font-semibold">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                ${this.formatCurrency(chart.entryFee)}
              </span>
              <span class="flex items-center gap-1 text-primary">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/>
                </svg>
                Prize: ${this.formatCurrency(chart.prizePool)}
              </span>
            </div>
            
            ${chart.prizeItem ? `
              <div class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-primary/10 text-primary text-sm mb-3">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/>
                </svg>
                <span class="font-medium">Gift:</span> ${chart.prizeItem.name}
              </div>
            ` : ''}
            
            <div class="flex items-center gap-6 mb-4 text-sm">
              <span class="flex items-center gap-1 text-primary cursor-pointer" onclick="event.stopPropagation(); app.openShoutout('${chart.id}')">
                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.58C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2z"/>
                </svg>
                <span>${this.formatNumber(chart.totalShoutouts)}</span>
              </span>
              <span class="flex items-center gap-1 text-muted-foreground">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                </svg>
                ${chart.participants.length}/${chart.maxParticipants}
              </span>
              <span class="flex items-center gap-1 text-amber-600 cursor-pointer" onclick="event.stopPropagation(); app.openDonationModal('${chart.id}')">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                </svg>
                <span>${this.formatNumber(chart.totalDonations)}</span>
              </span>
            </div>
            
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-2">
                <span class="text-xs text-muted-foreground">
                  ‚è∞ ${timeLeft}
                </span>
                <span class="text-xs ${spotsLeft > 0 ? 'text-success' : 'text-destructive'}">
                  ${spotsLeft > 0 ? `${spotsLeft} spot${spotsLeft > 1 ? 's' : ''} left` : 'Full'}
                </span>
              </div>
              <button class="px-6 py-2 bg-gradient-to-r from-primary to-accent text-white rounded-xl text-sm font-semibold shadow-lg shadow-primary/30" onclick="event.stopPropagation(); app.joinChart('${chart.id}')">
                ${chart.status === 'live' ? 'Watch' : 'Join Now'}
              </button>
            </div>
          </div>
        `;
      }

      renderArenas() {
        const container = document.getElementById('live-arenas');
        const gridContainer = document.getElementById('arena-grid');
        
        if (!this.arenas.length) {
          this.arenas = this.mockArenas;
        }
        
        // Sidebar arenas
        if (container) {
          container.innerHTML = this.arenas.slice(0, 2).map(arena => `
            <div class="arena-card glass-card p-4 cursor-pointer hover:-translate-x-1 transition" onclick="app.viewArena('${arena.id}')">
              <div class="flex items-center justify-between mb-3">
                <div class="flex items-center -space-x-2">
                  <div class="w-8 h-8 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white text-xs">
                    ${arena.players[0].user.displayName.charAt(0)}
                  </div>
                  <div class="w-8 h-8 rounded-full bg-gradient-to-br from-green-400 to-teal-500 flex items-center justify-center text-white text-xs">
                    ${arena.players[1].user.displayName.charAt(0)}
                  </div>
                </div>
                <span class="bg-destructive/10 text-destructive border border-destructive/20 px-2 py-0.5 rounded-full text-xs flex items-center gap-1">
                  <span class="relative flex h-2 w-2">
                    <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-destructive opacity-75"></span>
                    <span class="relative inline-flex rounded-full h-2 w-2 bg-destructive"></span>
                  </span>
                  LIVE
                </span>
              </div>
              
              <div class="flex items-center justify-between mb-2">
                <div>
                  <p class="text-sm font-medium">${arena.players[0].user.displayName}</p>
                  <p class="text-xs text-muted-foreground">${arena.players[0].score} pts</p>
                </div>
                <span class="text-lg font-bold text-primary mx-2">VS</span>
                <div class="text-right">
                  <p class="text-sm font-medium">${arena.players[1].user.displayName}</p>
                  <p class="text-xs text-muted-foreground">${arena.players[1].score} pts</p>
                </div>
              </div>
              
              <div class="flex items-center justify-between mt-3 pt-3 border-t border-border">
                <div class="flex gap-3 text-xs">
                  <span class="flex items-center gap-1 text-muted-foreground">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                    </svg>
                    ${arena.spectators}
                  </span>
                  <span class="flex items-center gap-1 text-warning">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    ${arena.chart.game}
                  </span>
                </div>
                <button class="glass-card px-3 py-1 text-xs rounded-full">
                  Watch
                </button>
              </div>
            </div>
          `).join('');
        }
        
        // Arena page grid
        if (gridContainer) {
          gridContainer.innerHTML = this.arenas.map(arena => `
            <div class="glass-card p-6">
              <h3 class="font-bold text-xl mb-4">${arena.chart.title}</h3>
              <div class="flex items-center justify-between mb-6">
                <div class="text-center">
                  <div class="w-16 h-16 mx-auto rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center text-white font-bold mb-2">
                    ${arena.players[0].user.displayName.charAt(0)}
                  </div>
                  <p class="font-semibold">${arena.players[0].user.displayName}</p>
                  <p class="text-2xl font-bold text-primary">${arena.players[0].score}</p>
                </div>
                <div class="text-2xl font-bold text-muted-foreground">VS</div>
                <div class="text-center">
                  <div class="w-16 h-16 mx-auto rounded-full bg-gradient-to-br from-success to-teal-500 flex items-center justify-center text-white font-bold mb-2">
                    ${arena.players[1].user.displayName.charAt(0)}
                  </div>
                  <p class="font-semibold">${arena.players[1].user.displayName}</p>
                  <p class="text-2xl font-bold text-success">${arena.players[1].score}</p>
                </div>
              </div>
              <div class="flex items-center justify-between text-sm mb-4">
                <span class="flex items-center gap-1"><span class="live-indicator mr-2"></span> Live</span>
                <span class="flex items-center gap-1">üëÅÔ∏è ${arena.spectators} watching</span>
              </div>
              <button class="w-full py-3 bg-gradient-to-r from-primary to-accent text-white rounded-xl font-semibold" onclick="app.joinArena('${arena.id}')">
                Join Arena
              </button>
            </div>
          `).join('');
        }
      }

      updateStats() {
        document.getElementById('live-viewers').textContent = this.formatNumber(2300);
        document.getElementById('open-arenas').textContent = '24';
        document.getElementById('players-waiting').textContent = '156';
      }

      openCreateChartModal() {
        if (!this.currentUser) {
          this.showAuth('login');
          return;
        }
        
        document.getElementById('modal-balance').textContent = this.formatCurrency(this.currentUser.balance);
        document.getElementById('create-chart-modal').classList.remove('hidden');
      }

      hideCreateChartModal() {
        document.getElementById('create-chart-modal').classList.add('hidden');
      }

      createChart() {
        const title = document.getElementById('chart-title').value;
        const game = document.getElementById('chart-game').value;
        const entryFee = parseInt(document.getElementById('chart-entryFee').value) || 10;
        const difficulty = document.getElementById('chart-difficulty').value;
        const description = document.getElementById('chart-description').value;
        
        if (!title || !game) {
          this.showToast('Error', 'Please fill required fields', 'error');
          return;
        }
        
        if (entryFee > this.currentUser.balance) {
          this.showToast('Error', 'Insufficient balance', 'error');
          return;
        }
        
        const newChart = {
          id: (this.mockCharts.length + 1).toString(),
          title,
          game,
          entryFee,
          difficulty,
          description,
          creator: this.currentUser,
          prizePool: entryFee * 2,
          participants: [this.currentUser],
          maxParticipants: 4,
          totalShoutouts: 0,
          totalDonations: 0,
          startsAt: new Date().toISOString(),
          status: 'open'
        };
        
        this.mockCharts.unshift(newChart);
        this.currentUser.balance -= entryFee;
        this.currentUser.chartsCreated++;
        localStorage.setItem('thumbsapp_user', JSON.stringify(this.currentUser));
        this.updateProfileUI();
        this.renderCharts();
        this.hideCreateChartModal();
        this.showToast('Success', 'Chart created successfully', 'success');
      }

      joinChart(chartId) {
        if (!this.currentUser) {
          this.showAuth('login');
          return;
        }
        
        const chart = this.mockCharts.find(c => c.id === chartId);
        
        if (!chart) return;
        
        if (chart.entryFee > this.currentUser.balance) {
          this.showToast('Error', 'Insufficient balance', 'error');
          return;
        }
        
        if (chart.participants.length >= chart.maxParticipants) {
          this.showToast('Error', 'Chart is full', 'error');
          return;
        }
        
        chart.participants.push(this.currentUser);
        this.currentUser.balance -= chart.entryFee;
        chart.prizePool += chart.entryFee;
        localStorage.setItem('thumbsapp_user', JSON.stringify(this.currentUser));
        this.updateProfileUI();
        this.renderCharts();
        this.showToast('Success', 'Joined chart successfully', 'success');
      }

      openShoutout(chartId) {
        if (!this.currentUser) {
          this.showAuth('login');
          return;
        }
        
        const chart = this.mockCharts.find(c => c.id === chartId);
        if (chart) {
          chart.totalShoutouts++;
          this.renderCharts();
          this.showToast('Shoutout Sent!', 'Thanks for supporting', 'shoutout');
        }
      }

      openDonationModal(chartId) {
        if (!this.currentUser) {
          this.showAuth('login');
          return;
        }
        
        const chart = this.mockCharts.find(c => c.id === chartId);
        if (chart) {
          this.currentChart = chart;
          document.getElementById('donation-recipient').textContent = chart.creator.displayName;
          document.getElementById('donation-modal').classList.remove('hidden');
        }
      }

      hideDonationModal() {
        document.getElementById('donation-modal').classList.add('hidden');
        this.currentChart = null;
      }

      processDonation() {
        if (!this.currentChart) return;
        
        const customAmount = document.getElementById('donation-custom').value;
        const activePreset = document.querySelector('.preset-amount.bg-primary\\/10');
        let amount = customAmount ? parseInt(customAmount) : (activePreset ? parseInt(activePreset.dataset.amount) : 25);
        
        if (!amount || amount < 10) {
          this.showToast('Error', 'Minimum donation is 10 THB', 'error');
          return;
        }
        
        if (amount > this.currentUser.balance) {
          this.showToast('Error', 'Insufficient balance', 'error');
          return;
        }
        
        this.currentChart.totalDonations += amount;
        this.currentUser.balance -= amount;
        localStorage.setItem('thumbsapp_user', JSON.stringify(this.currentUser));
        this.updateProfileUI();
        this.renderCharts();
        this.hideDonationModal();
        this.showToast('Donation Sent!', `You donated ${this.formatCurrency(amount)}`, 'donation');
      }

      quickJoinMatch() {
        if (!this.currentUser) {
          this.showAuth('login');
          return;
        }
        
        const openCharts = this.mockCharts.filter(c => c.status === 'open' && c.participants.length < c.maxParticipants);
        
        if (openCharts.length > 0) {
          const randomChart = openCharts[Math.floor(Math.random() * openCharts.length)];
          this.joinChart(randomChart.id);
        } else {
          this.showToast('No Matches', 'No available charts found. Create one!', 'warning');
        }
      }

      loadMoreCharts() {
        this.showToast('Info', 'Loading more charts...', 'info');
      }

      viewArena(arenaId) {
        this.showToast('Arena', `Viewing arena ${arenaId}`, 'info');
      }

      joinArena(arenaId) {
        if (!this.currentUser) {
          this.showAuth('login');
          return;
        }
        this.showToast('Joined Arena', 'You joined the arena as spectator', 'success');
      }

      showToast(title, message, type = 'info') {
        const container = document.getElementById('toast-container');
        const toast = document.createElement('div');
        toast.className = `glass-card p-4 max-w-sm animate-slide-left border-l-4 ${
          type === 'donation' ? 'border-success' : 
          type === 'shoutout' ? 'border-primary' : 
          type === 'error' ? 'border-destructive' : 
          'border-warning'
        }`;
        
        toast.innerHTML = `
          <div class="flex items-start gap-3">
            <div class="flex-shrink-0 text-xl">
              ${type === 'donation' ? 'üí∞' : type === 'shoutout' ? 'üì¢' : type === 'error' ? '‚ùå' : 'üîî'}
            </div>
            <div class="flex-1">
              <h4 class="font-semibold text-sm mb-1">${title}</h4>
              <p class="text-xs text-muted-foreground">${message}</p>
            </div>
            <button class="text-muted-foreground hover:text-foreground" onclick="this.parentElement.parentElement.remove()">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
              </svg>
            </button>
          </div>
        `;
        
        container.appendChild(toast);
        setTimeout(() => toast.remove(), 5000);
      }

      formatNumber(num) {
        if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
        if (num >= 1000) return (num / 1000).toFixed(1) + 'K';
        return num.toString();
      }

      formatCurrency(amount) {
        return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'THB', minimumFractionDigits: 0 }).format(amount);
      }

      getTimeLeft(dateString) {
        const start = new Date(dateString);
        const now = new Date();
        if (now > start) return 'Now';
        const mins = Math.floor((start - now) / 60000);
        if (mins < 1) return 'Soon';
        if (mins < 60) return `${mins}m`;
        return `${Math.floor(mins / 60)}h`;
      }
    }

    // Initialize app
    const app = new ThumbsApp();
    window.app = app;
    document.addEventListener('DOMContentLoaded', () => app.init());
  </script>
</body>
</html>
